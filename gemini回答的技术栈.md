基于你的 PRD 文档，我为你梳理了各个模块可以“拿来即用”的成熟库和工具。你**不需要从头造轮子**，你的工作核心是将这些库像“积木”一样搭建起来（写胶水代码）。

以下是详细的模块对照分析：

### 1. Data 模块 & 选股模块 (核心：数据采集与计算)
**PRD 对应位置：** L14-31 (选股、采集、指标计算)

*   **定时调度 (L20, L25):**
    *   ❌ **不要自己写** `while True + sleep` 循环，容易阻塞且不精准。
    *   ✅ **使用工具：** **`APScheduler`** (Python库)。
        *   它能完美处理“每分钟采集”、“每10分钟触发策略”的任务，支持多线程/多进程。
*   **HTTP 请求 (L24):**
    *   ✅ **使用工具：** **`httpx`** 或 **`requests`**。
        *   建议用 `httpx`，因为它支持异步（async），对于你的“秒级监控”非常重要。
    *   ✅ **重试机制：** **`tenacity`**。网络请求失败时自动重试，不用自己写 `try-except` 循环。
*   **数据库操作 (L16, L25):**
    *   ❌ **不要直接写** 原始 SQL 拼接字符串。
    *   ✅ **使用工具：** **`SQLAlchemy`** (ORM框架)。
        *   它能帮你把 Python 对象转成 SQL 语句，防注入，管理连接池。
    *   **进阶推荐：** 给 PostgreSQL 安装 **`TimescaleDB`** 插件（开源），它专门针对时间序列数据（行情）做了优化，查询速度比原生 PG 快很多。
*   **技术指标计算 (SMA, EMA, RSI, MACD) (L18, L29):**
    *   ❌ **千万不要自己写** 数学公式。
    *   ✅ **使用工具：** **`pandas-ta`** 或 **`TA-Lib`**。
        *   一行代码 `df.ta.rsi()` 就能算出 RSI，准确度高且速度极快。
*   **数据清洗与聚合 (L60-62):**
    *   ✅ **使用工具：** **`pandas`**。
        *   处理逐笔数据（Tick）转 K线（OHLC），用 `df.resample('1min').ohlc()` 一行代码搞定。

---

### 2. 策略模块 (核心：AI 交互)
**PRD 对应位置：** L33-39 (LLM 调用与解析)

*   **调用 DeepSeek API (L36-37):**
    *   ✅ **使用工具：** **`OpenAI Python SDK`**。
        *   DeepSeek 的 API 通常兼容 OpenAI 格式，直接用 `openai` 库调用即可，不用自己封装 HTTP 请求。
*   **Prompt 管理 (L34-35):**
    *   ✅ **使用工具：** **`Jinja2`**。
        *   用模板语言管理你的提示词，把变量（如 `{持仓盈亏水平}`）动态填进去，比用 Python f-string 拼接更整洁。
*   **JSON 格式约束与校验 (L38-39):**
    *   ❌ **不要只靠 LLM** 保证格式，代码里要有校验层。
    *   ✅ **使用工具：** **`Pydantic`**。
        *   定义一个类来描述交易指令结构，Pydantic 会自动校验 LLM 返回的 JSON 字段类型对不对，不对直接报错拦截。

---

### 3. 持仓监控 & 交易动作模块 (核心：执行与风控)
**PRD 对应位置：** L41-49

*   **秒级循环监控 (L41-42):**
    *   ✅ **使用工具：** **`asyncio`** (Python内置)。
        *   实现异步非阻塞循环，确保你在查询持仓时，不会卡住其他任务。
*   **计算盈亏 (L42):**
    *   ✅ **使用工具：** **`pandas`** / **`numpy`**。
        *   向量化计算，速度极快。

---

### 4. 观察与交互模块 (UI)
**PRD 对应位置：** L51-52 (UI 界面)

*   **终端界面展示:**
    *   ✅ **使用工具：** **`Rich`** (你 PRD 里提到了)。
        *   它可以打印漂亮的彩色表格、进度条、JSON 高亮。
    *   **进阶推荐：** **`Textual`**。
        *   这是基于 Rich 构建的 TUI 框架。如果你想要一个像“软件”一样有按钮、有刷新面板的终端界面，用 Textual 比纯 Rich 更强。

---

### 5. 基础设施与部署
**PRD 对应位置：** L10-11

*   **环境管理:**
    *   ✅ **使用工具：** **`Poetry`** 或 **`uv`**。
        *   替代传统的 `pip freeze`，锁定依赖版本，防止在云服务器上跑不起来。
*   **部署:**
    *   ✅ **使用工具：** **`Docker`** + **`Docker Compose`**。
        *   把你的 Python 环境、PostgreSQL 数据库打包在一起，一键启动，不用在服务器上手动装库。
*   **CICD:**
    *   ✅ **使用工具：** **`GitHub Actions`**。
        *   免费，且与 GitHub 无缝集成。

---

### 总结：你需要写什么？

你**不需要**开发：
*   数学公式库（TA-Lib）
*   数据库驱动（SQLAlchemy）
*   任务调度器（APScheduler）
*   HTTP 客户端（httpx/OpenAI SDK）
*   UI 渲染引擎（Rich）

你**需要**写（胶水代码）：
1.  **API 对接层**：配置 Massive 和 Bronco 的 URL 和 Token。
2.  **Prompt 组装逻辑**：把 DB 里的数据查出来，填进 Jinja2 模板。
3.  **Pydantic 模型定义**：把 PRD 里的 JSON 字段定义成 Python 类。
4.  **业务流程控制**：在 `main.py` 里用 `APScheduler` 把上面这些模块串起来。

这样，你的开发工作量至少减少 **70%**。